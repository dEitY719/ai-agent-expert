{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# FastMCP ì œì‘ ë° ADK ì—°ë™ íŠœí† ë¦¬ì–¼\n",
        "\n",
        "## í•™ìŠµ ëª©í‘œ\n",
        "- FastMCPë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ìš©ì ì¸ MCP ì„œë²„ë¥¼ ë§Œë“œëŠ” ë°©ë²• í•™ìŠµ\n",
        "- mcp_ë°©ë²•.txt ë¬¸ì„œ ê¸°ë°˜ì˜ ì‹¤ë¬´ íŒ¨í„´ ì ìš©\n",
        "- ADK(Agent Development Kit)ì™€ MCP ì—°ë™ ë°©ë²• ì´í•´\n",
        "- ì‹¤ì „ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ í†µí•© ê²€ì¦\n",
        "\n",
        "## ëª©ì°¨\n",
        "1. [FastMCP ìƒì„¸ ì‚¬ìš©ë²•](#1-fastmcp-ìƒì„¸-ì‚¬ìš©ë²•)\n",
        "2. [ì‹¤ì œ ì‘ë™ í…ŒìŠ¤íŠ¸](#2-ì‹¤ì œ-ì‘ë™-í…ŒìŠ¤íŠ¸)\n",
        "3. [ê¸°ì¡´ ì—°êµ¬ ìë£Œ ì €ì¥ MCP ë¶„ì„](#3-ê¸°ì¡´-ì—°êµ¬-ìë£Œ-ì €ì¥-mcp-ë¶„ì„)\n",
        "4. [ADKì™€ MCP ì—°ë™ ê°€ì´ë“œ](#4-adkì™€-mcp-ì—°ë™-ê°€ì´ë“œ)\n",
        "5. [ì‹¤ì „ í…ŒìŠ¤íŠ¸ ë° í•™ìŠµ ì •ë¦¬](#5-ì‹¤ì „-í…ŒìŠ¤íŠ¸-ë°-í•™ìŠµ-ì •ë¦¬)\n"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 24,
      "metadata": {},
      "outputs": [
        {
          "name": "stderr",
          "output_type": "stream",
          "text": [
            "2025-09-05 06:35:49,336 - mcp.server.lowlevel.server - DEBUG - Initializing server 'Basic Calculator Server'\n",
            "2025-09-05 06:35:49,339 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListToolsRequest\n",
            "2025-09-05 06:35:49,339 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourcesRequest\n",
            "2025-09-05 06:35:49,340 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourceTemplatesRequest\n",
            "2025-09-05 06:35:49,340 - mcp.server.lowlevel.server - DEBUG - Registering handler for PromptListRequest\n",
            "2025-09-05 06:35:49,341 - mcp.server.lowlevel.server - DEBUG - Registering handler for CallToolRequest\n",
            "2025-09-05 06:35:49,342 - mcp.server.lowlevel.server - DEBUG - Registering handler for ReadResourceRequest\n",
            "2025-09-05 06:35:49,343 - mcp.server.lowlevel.server - DEBUG - Registering handler for GetPromptRequest\n",
            "2025-09-05 06:35:49,354 - mcp.server.lowlevel.server - DEBUG - Initializing server 'Advanced Math Server'\n",
            "2025-09-05 06:35:49,355 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListToolsRequest\n",
            "2025-09-05 06:35:49,355 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourcesRequest\n",
            "2025-09-05 06:35:49,356 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourceTemplatesRequest\n",
            "2025-09-05 06:35:49,356 - mcp.server.lowlevel.server - DEBUG - Registering handler for PromptListRequest\n",
            "2025-09-05 06:35:49,356 - mcp.server.lowlevel.server - DEBUG - Registering handler for CallToolRequest\n",
            "2025-09-05 06:35:49,357 - mcp.server.lowlevel.server - DEBUG - Registering handler for ReadResourceRequest\n",
            "2025-09-05 06:35:49,357 - mcp.server.lowlevel.server - DEBUG - Registering handler for GetPromptRequest\n"
          ]
        },
        {
          "name": "stdout",
          "output_type": "stream",
          "text": [
            "âœ… FastMCP ì„¤ì • ì™„ë£Œ!\n",
            "ğŸ”§ ì •ì˜ëœ í•¨ìˆ˜ë“¤:\n",
            "  - add_numbers(): ê¸°ë³¸ ë§ì…ˆ\n",
            "  - multiply_with_format_impl(): ê³ ê¸‰ ê³±ì…ˆ\n",
            "  - divide_safely_impl(): ì•ˆì „í•œ ë‚˜ëˆ—ì…ˆ\n",
            "  - batch_operations_impl(): ì¼ê´„ ì—°ì‚°\n",
            "ğŸ“¡ MCP ë„êµ¬ë¡œ ë“±ë¡ëœ í•¨ìˆ˜ë“¤:\n",
            "  - add(), multiply_with_format(), divide_safely(), batch_operations()\n"
          ]
        }
      ],
      "source": [
        "# FastMCP ìƒì„¸ ì‚¬ìš©ë²• - mcp_ë°©ë²•.txt ë¬¸ì„œ ê¸°ë°˜\n",
        "from fastmcp import FastMCP\n",
        "from typing import List, Dict, Any, Optional\n",
        "import logging\n",
        "from datetime import datetime\n",
        "\n",
        "# 1. ì„œë²„ ìƒì„±\n",
        "basic_server = FastMCP(\n",
        "    name=\"Basic Calculator Server\",\n",
        "    instructions=\"ê°„ë‹¨í•œ ê³„ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” MCP ì„œë²„ì…ë‹ˆë‹¤.\"\n",
        ")\n",
        "\n",
        "advanced_server = FastMCP(\n",
        "    name=\"Advanced Math Server\",\n",
        "    instructions=\"\"\"\n",
        "    ê³ ê¸‰ ìˆ˜í•™ ê³„ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” MCP ì„œë²„ì…ë‹ˆë‹¤.\n",
        "    \n",
        "    ì œê³µí•˜ëŠ” ê¸°ëŠ¥:\n",
        "    1. ê¸°ë³¸ ì—°ì‚°: add, multiply, divide (0ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ë°©ì§€)\n",
        "    2. ê³ ê¸‰ ì—°ì‚°: batch_operations (ì—¬ëŸ¬ ìˆ«ì ì¼ê´„ ì²˜ë¦¬)\n",
        "    3. ì—ëŸ¬ ì²˜ë¦¬: ëª¨ë“  ë„êµ¬ì— ì•ˆì „ì¥ì¹˜ ë‚´ì¥\n",
        "    \n",
        "    ì‚¬ìš© ê·œì¹™:\n",
        "    - ëª¨ë“  ìˆ«ìëŠ” float íƒ€ì…ìœ¼ë¡œ ì²˜ë¦¬\n",
        "    - ì—ëŸ¬ ë°œìƒ ì‹œ 'error' í•„ë“œ í™•ì¸ í•„ìˆ˜\n",
        "    - ì„±ê³µ ì‹œ 'success': True í¬í•¨\n",
        "    \"\"\"\n",
        ")\n",
        "\n",
        "# 2. êµ¬í˜„ í•¨ìˆ˜ë“¤ ì •ì˜ (í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ë„ë¡)\n",
        "def add_numbers(a: float, b: float) -> float:\n",
        "    \"\"\"ë‘ ìˆ«ìë¥¼ ë”í•©ë‹ˆë‹¤\"\"\"\n",
        "    return a + b\n",
        "\n",
        "def multiply_with_format_impl(a: float, b: float) -> Dict[str, Any]:\n",
        "    \"\"\"ê³ ê¸‰ ê³±ì…ˆ êµ¬í˜„\"\"\"\n",
        "    try:\n",
        "        result = a * b\n",
        "        return {\n",
        "            \"input_a\": a,\n",
        "            \"input_b\": b,\n",
        "            \"result\": result,\n",
        "            \"operation\": \"multiplication\",\n",
        "            \"formatted_result\": f\"{a} Ã— {b} = {result}\",\n",
        "            \"success\": True,\n",
        "            \"timestamp\": datetime.now().isoformat()\n",
        "        }\n",
        "    except Exception as e:\n",
        "        return {\n",
        "            \"error\": \"CALCULATION_ERROR\",\n",
        "            \"message\": f\"ê³±ì…ˆ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {str(e)}\",\n",
        "            \"success\": False\n",
        "        }\n",
        "\n",
        "def divide_safely_impl(dividend: float, divisor: float) -> Dict[str, Any]:\n",
        "    \"\"\"ì•ˆì „í•œ ë‚˜ëˆ—ì…ˆ êµ¬í˜„\"\"\"\n",
        "    # íƒ€ì… ê²€ì¦\n",
        "    if not isinstance(dividend, (int, float)) or not isinstance(divisor, (int, float)):\n",
        "        return {\n",
        "            \"error\": \"TYPE_ERROR\",\n",
        "            \"message\": \"ì…ë ¥ê°’ì€ ìˆ«ìì—¬ì•¼ í•©ë‹ˆë‹¤\",\n",
        "            \"success\": False\n",
        "        }\n",
        "    \n",
        "    # 0ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ë°©ì§€\n",
        "    if divisor == 0:\n",
        "        return {\n",
        "            \"error\": \"DIVISION_BY_ZERO\",\n",
        "            \"message\": \"0ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\",\n",
        "            \"suggestion\": \"0ì´ ì•„ë‹Œ ë‚˜ëˆ„ëŠ” ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”\",\n",
        "            \"success\": False\n",
        "        }\n",
        "    \n",
        "    # ì •ìƒ ê³„ì‚°\n",
        "    result = dividend / divisor\n",
        "    return {\n",
        "        \"dividend\": dividend,\n",
        "        \"divisor\": divisor,\n",
        "        \"result\": round(result, 6),\n",
        "        \"operation\": \"division\",\n",
        "        \"success\": True\n",
        "    }\n",
        "\n",
        "def batch_operations_impl(numbers: List[float], operation: str = \"sum\") -> Dict[str, Any]:\n",
        "    \"\"\"ì¼ê´„ ì—°ì‚° êµ¬í˜„\"\"\"\n",
        "    # ì…ë ¥ ê²€ì¦\n",
        "    if not numbers:\n",
        "        return {\n",
        "            \"error\": \"EMPTY_INPUT\",\n",
        "            \"message\": \"ìˆ«ì ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤\",\n",
        "            \"success\": False\n",
        "        }\n",
        "    \n",
        "    # ìˆ«ì íƒ€ì… ê²€ì¦\n",
        "    try:\n",
        "        validated_numbers = [float(n) for n in numbers]\n",
        "    except (ValueError, TypeError):\n",
        "        return {\n",
        "            \"error\": \"INVALID_NUMBER\",\n",
        "            \"message\": \"ìœ íš¨í•˜ì§€ ì•Šì€ ìˆ«ìê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤\",\n",
        "            \"success\": False\n",
        "        }\n",
        "    \n",
        "    # ì—°ì‚° ìˆ˜í–‰\n",
        "    if operation == \"sum\":\n",
        "        result = sum(validated_numbers)\n",
        "    elif operation == \"product\":\n",
        "        result = 1\n",
        "        for num in validated_numbers:\n",
        "            result *= num\n",
        "    elif operation == \"average\":\n",
        "        result = sum(validated_numbers) / len(validated_numbers)\n",
        "    elif operation == \"max\":\n",
        "        result = max(validated_numbers)\n",
        "    elif operation == \"min\":\n",
        "        result = min(validated_numbers)\n",
        "    else:\n",
        "        return {\n",
        "            \"error\": \"UNKNOWN_OPERATION\",\n",
        "            \"message\": f\"ì§€ì›í•˜ì§€ ì•ŠëŠ” ì—°ì‚°ì…ë‹ˆë‹¤: {operation}\",\n",
        "            \"supported_operations\": [\"sum\", \"product\", \"average\", \"max\", \"min\"],\n",
        "            \"success\": False\n",
        "        }\n",
        "    \n",
        "    return {\n",
        "        \"input_numbers\": validated_numbers,\n",
        "        \"operation\": operation,\n",
        "        \"result\": result,\n",
        "        \"count\": len(validated_numbers),\n",
        "        \"success\": True\n",
        "    }\n",
        "\n",
        "# 3. FastMCP ë„êµ¬ë¡œ ë“±ë¡\n",
        "@basic_server.tool()\n",
        "def add(a: float, b: float) -> float:\n",
        "    \"\"\"ë‘ ìˆ«ìë¥¼ ë”í•©ë‹ˆë‹¤\"\"\"\n",
        "    return add_numbers(a, b)\n",
        "\n",
        "@advanced_server.tool(name=\"advanced_multiply\")\n",
        "def multiply_with_format(a: float, b: float) -> Dict[str, Any]:\n",
        "    \"\"\"ê³ ê¸‰ ê³±ì…ˆ ë„êµ¬\"\"\"\n",
        "    return multiply_with_format_impl(a, b)\n",
        "\n",
        "@advanced_server.tool(name=\"safe_divide\")\n",
        "def divide_safely(dividend: float, divisor: float) -> Dict[str, Any]:\n",
        "    \"\"\"ì•ˆì „í•œ ë‚˜ëˆ—ì…ˆ ë„êµ¬\"\"\"\n",
        "    return divide_safely_impl(dividend, divisor)\n",
        "\n",
        "@advanced_server.tool(name=\"batch_calculate\")\n",
        "def batch_operations(numbers: List[float], operation: str = \"sum\") -> Dict[str, Any]:\n",
        "    \"\"\"ì¼ê´„ ì—°ì‚° ë„êµ¬\"\"\"\n",
        "    return batch_operations_impl(numbers, operation)\n",
        "\n",
        "print(\"âœ… FastMCP ì„¤ì • ì™„ë£Œ!\")\n",
        "print(\"ğŸ”§ ì •ì˜ëœ í•¨ìˆ˜ë“¤:\")\n",
        "print(\"  - add_numbers(): ê¸°ë³¸ ë§ì…ˆ\")\n",
        "print(\"  - multiply_with_format_impl(): ê³ ê¸‰ ê³±ì…ˆ\")\n",
        "print(\"  - divide_safely_impl(): ì•ˆì „í•œ ë‚˜ëˆ—ì…ˆ\")\n",
        "print(\"  - batch_operations_impl(): ì¼ê´„ ì—°ì‚°\")\n",
        "print(\"ğŸ“¡ MCP ë„êµ¬ë¡œ ë“±ë¡ëœ í•¨ìˆ˜ë“¤:\")\n",
        "print(\"  - add(), multiply_with_format(), divide_safely(), batch_operations()\")\n"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 29,
      "metadata": {},
      "outputs": [
        {
          "name": "stdout",
          "output_type": "stream",
          "text": [
            "=== FastMCP ì„œë²„ ì‘ë™ í…ŒìŠ¤íŠ¸ ===\n",
            "\n",
            " ê¸°ë³¸ ê³„ì‚°ê¸° ì„œë²„ í…ŒìŠ¤íŠ¸\n",
            " add_numbers(15, 25) = 40\n",
            "\n",
            " ê³„ì‚°ê¸° ì„œë²„ í…ŒìŠ¤íŠ¸\n",
            " ê³ ê¸‰ ê³±ì…ˆ ê²°ê³¼:\n",
            "  8 Ã— 7 = 56\n",
            "  ì„±ê³µ: True\n",
            "\n",
            " ì•ˆì „í•œ ë‚˜ëˆ—ì…ˆ (ì •ìƒ):\n",
            "  100 Ã· 4 = 25.0\n",
            "  ì„±ê³µ: True\n",
            "\n",
            "Zerodivision ì²˜ë¦¬:\n",
            "  ì˜¤ë¥˜: DIVISION_BY_ZERO\n",
            "  ë©”ì‹œì§€: 0ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\n",
            "  ì œì•ˆ: 0ì´ ì•„ë‹Œ ë‚˜ëˆ„ëŠ” ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”\n",
            "\n",
            "ì—°ì‚° í…ŒìŠ¤íŠ¸\n",
            " í•©ê³„: [1.0, 2.0, 3.0, 4.0, 5.0] â†’ 15.0\n",
            " í‰ê· : [10.0, 20.0, 30.0] â†’ 20.0\n",
            " ê³±ì…ˆ: [2.0, 3.0, 4.0] â†’ 24.0\n",
            " ìµœëŒ€ê°’: 15.0, ìµœì†Œê°’: 3.0\n",
            "\n",
            "ì—ëŸ¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸\n",
            " ë¹ˆ ë¦¬ìŠ¤íŠ¸ ì˜¤ë¥˜: EMPTY_INPUT - ìˆ«ì ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤\n",
            " ì•Œ ìˆ˜ ì—†ëŠ” ì—°ì‚°: UNKNOWN_OPERATION\n",
            "  ì§€ì› ì—°ì‚°: ['sum', 'product', 'average', 'max', 'min']\n",
            " íƒ€ì… ì˜¤ë¥˜: TYPE_ERROR - ì…ë ¥ê°’ì€ ìˆ«ìì—¬ì•¼ í•©ë‹ˆë‹¤\n"
          ]
        }
      ],
      "source": [
        "# ì‹¤ì œ ì‘ë™ í…ŒìŠ¤íŠ¸ - êµ¬í˜„ í•¨ìˆ˜ë“¤ì„ ì§ì ‘ í˜¸ì¶œ\n",
        "print(\"=== FastMCP ì„œë²„ ì‘ë™ í…ŒìŠ¤íŠ¸ ===\")\n",
        "\n",
        "# 1. ê¸°ë³¸ ì„œë²„ ë„êµ¬ í…ŒìŠ¤íŠ¸\n",
        "print(\"\\n ê¸°ë³¸ ê³„ì‚°ê¸° ì„œë²„ í…ŒìŠ¤íŠ¸\")\n",
        "add_result = add_numbers(15, 25)\n",
        "print(f\" add_numbers(15, 25) = {add_result}\")\n",
        "\n",
        "# 2. ì„œë²„ ë„êµ¬ í…ŒìŠ¤íŠ¸\n",
        "print(\"\\n ê³„ì‚°ê¸° ì„œë²„ í…ŒìŠ¤íŠ¸\")\n",
        "\n",
        "# ê³±ì…ˆ í…ŒìŠ¤íŠ¸\n",
        "multiply_result = multiply_with_format_impl(8, 7)\n",
        "print(f\" ê³ ê¸‰ ê³±ì…ˆ ê²°ê³¼:\")\n",
        "print(f\"  {multiply_result['formatted_result']}\")\n",
        "print(f\"  ì„±ê³µ: {multiply_result['success']}\")\n",
        "\n",
        "# ë‚˜ëˆ—ì…ˆ - ì •ìƒ ì¼€ì´ìŠ¤\n",
        "divide_result = divide_safely_impl(100, 4)\n",
        "print(f\"\\n ì•ˆì „í•œ ë‚˜ëˆ—ì…ˆ (ì •ìƒ):\")\n",
        "print(f\"  {divide_result['dividend']} Ã· {divide_result['divisor']} = {divide_result['result']}\")\n",
        "print(f\"  ì„±ê³µ: {divide_result['success']}\")\n",
        "\n",
        "# ì•ˆì „í•œ ë‚˜ëˆ—ì…ˆ - Zerodivision ì˜¤ë¥˜ í…ŒìŠ¤íŠ¸\n",
        "divide_error = divide_safely_impl(100, 0)\n",
        "print(f\"\\nZerodivision ì²˜ë¦¬:\")\n",
        "print(f\"  ì˜¤ë¥˜: {divide_error['error']}\")\n",
        "print(f\"  ë©”ì‹œì§€: {divide_error['message']}\")\n",
        "print(f\"  ì œì•ˆ: {divide_error['suggestion']}\")\n",
        "\n",
        "# ì¼ê´„ ì—°ì‚° í…ŒìŠ¤íŠ¸ë“¤\n",
        "print(f\"\\nì—°ì‚° í…ŒìŠ¤íŠ¸\")\n",
        "\n",
        "# í•©ê³„ ì—°ì‚°\n",
        "batch_sum = batch_operations_impl([1, 2, 3, 4, 5], \"sum\")\n",
        "print(f\" í•©ê³„: {batch_sum['input_numbers']} â†’ {batch_sum['result']}\")\n",
        "\n",
        "# í‰ê·  ì—°ì‚°\n",
        "batch_avg = batch_operations_impl([10, 20, 30], \"average\")\n",
        "print(f\" í‰ê· : {batch_avg['input_numbers']} â†’ {batch_avg['result']}\")\n",
        "\n",
        "# ê³±ì…ˆ ì—°ì‚°\n",
        "batch_product = batch_operations_impl([2, 3, 4], \"product\")\n",
        "print(f\" ê³±ì…ˆ: {batch_product['input_numbers']} â†’ {batch_product['result']}\")\n",
        "\n",
        "# ìµœëŒ€ê°’/ìµœì†Œê°’\n",
        "batch_max = batch_operations_impl([5, 15, 3, 9, 12], \"max\")\n",
        "batch_min = batch_operations_impl([5, 15, 3, 9, 12], \"min\")\n",
        "print(f\" ìµœëŒ€ê°’: {batch_max['result']}, ìµœì†Œê°’: {batch_min['result']}\")\n",
        "\n",
        "# 3. ì—ëŸ¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸\n",
        "print(f\"\\nì—ëŸ¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸\")\n",
        "\n",
        "# ë¹ˆ ë¦¬ìŠ¤íŠ¸ ì˜¤ë¥˜\n",
        "empty_error = batch_operations_impl([], \"sum\")\n",
        "print(f\" ë¹ˆ ë¦¬ìŠ¤íŠ¸ ì˜¤ë¥˜: {empty_error['error']} - {empty_error['message']}\")\n",
        "\n",
        "# ì§€ì›í•˜ì§€ ì•ŠëŠ” ì—°ì‚° ì˜¤ë¥˜\n",
        "unknown_op_error = batch_operations_impl([1, 2, 3], \"unknown_operation\")\n",
        "print(f\" ì•Œ ìˆ˜ ì—†ëŠ” ì—°ì‚°: {unknown_op_error['error']}\")\n",
        "print(f\"  ì§€ì› ì—°ì‚°: {unknown_op_error['supported_operations']}\")\n",
        "\n",
        "# íƒ€ì… ì˜¤ë¥˜ í…ŒìŠ¤íŠ¸\n",
        "type_error = divide_safely_impl(\"not_a_number\", 5)\n",
        "print(f\" íƒ€ì… ì˜¤ë¥˜: {type_error['error']} - {type_error['message']}\")"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## 3. ì—°êµ¬ ìë£Œ ì €ì¥ MCP ë¶„ì„\n",
        "\n",
        "`research_storage_mcp.py` íŒŒì¼ì—ì„œ êµ¬í˜„ëœ ë„êµ¬ë“¤ê³¼ ë¦¬ì†ŒìŠ¤ë“¤ì„ ë¶„ì„í•´ë³´ê² ìŠµë‹ˆë‹¤.\n",
        "\n",
        "### ì‹¤ì œ êµ¬í˜„ëœ ë„êµ¬ë“¤\n",
        "1. `create_research_material` - ìƒˆë¡œìš´ ì—°êµ¬ ìë£Œ ìƒì„±\n",
        "2. `update_research_material` - ê¸°ì¡´ ì—°êµ¬ ìë£Œ ìˆ˜ì •\n",
        "3. `delete_research_material` - ì—°êµ¬ ìë£Œ ì‚­ì œ\n",
        "4. `get_research_statistics` - ì—°êµ¬ ìë£Œ í†µê³„ ì œê³µ\n",
        "5. `export_research_materials` - JSON í˜•ì‹ìœ¼ë¡œ ë‚´ë³´ë‚´ê¸°\n",
        "\n",
        "### ì‹¤ì œ êµ¬í˜„ëœ ë¦¬ì†ŒìŠ¤ë“¤\n",
        "1. `research://materials` - ëª¨ë“  ì—°êµ¬ ìë£Œ ëª©ë¡\n",
        "2. `research://materials/{material_id}` - íŠ¹ì • ìë£Œ ìƒì„¸ ì •ë³´\n",
        "3. `research://materials/category/{category}` - ì¹´í…Œê³ ë¦¬ë³„ ìë£Œ\n",
        "4. `research://materials/tag/{tag}` - íƒœê·¸ë³„ ìë£Œ\n",
        "5. `research://materials/search/{query}` - ê²€ìƒ‰ ê²°ê³¼\n",
        "\n",
        "### ë°ì´í„° ëª¨ë¸\n",
        "- `ResearchMaterial` - Pydantic ëª¨ë¸ë¡œ êµ¬í˜„\n",
        "- íŒŒì¼ ê¸°ë°˜ JSON ì €ì¥ ë°©ì‹ ì‚¬ìš©\n"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## 4. ADKì™€ MCP ì—°ë™ ë‹¨ê³„ë³„ ê°€ì´ë“œ\n",
        "\n",
        "### ì—°ë™ ê°œìš”\n",
        "- **ëª©í‘œ**: `research_storage_mcp.py` ì„œë²„ë¥¼ ADK ì—ì´ì „íŠ¸ì— ì—°ê²°\n",
        "- **ë°©ë²•**: `MCPToolset`ê³¼ `StdioServerParameters` ì‚¬ìš©\n",
        "- **ê²°ê³¼**: AIê°€ MCP ë„êµ¬ë¥¼ ìë™ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë¨\n",
        "\n",
        "### íŒŒì¼ êµ¬ì¡° í™•ì¸\n",
        "```\n",
        "agent_mcp/\n",
        "â”œâ”€â”€ academic_research/\n",
        "â”‚   â”œâ”€â”€ adk_config.py      # MCP ì„œë²„ ì„¤ì • ì¶”ê°€ í•„ìš”\n",
        "â”‚   â”œâ”€â”€ agent.py           # MCPToolset ì—°ë™ í•„ìš”\n",
        "â”‚   â””â”€â”€ ...\n",
        "â””â”€â”€ research_storage_mcp.py # MCP ì„œë²„\n",
        "```\n",
        "\n",
        "### ë‹¨ê³„ 1: adk_config.py ìˆ˜ì •\n",
        "\n",
        "ê¸°ì¡´ íŒŒì¼ì— ë‹¤ìŒ ì½”ë“œë¥¼ **ì¶”ê°€**í•˜ì„¸ìš”:\n",
        "\n",
        "```python\n",
        "# MCP ì„œë²„ ê²½ë¡œ ì„¤ì •\n",
        "import sys\n",
        "from pathlib import Path\n",
        "\n",
        "MCP_SERVER_DIR = Path(__file__).parent.parent\n",
        "RESEARCH_MCP_PATH = MCP_SERVER_DIR / \"research_storage_mcp.py\"\n",
        "\n",
        "# MCP ì„œë²„ ì„¤ì •\n",
        "MCP_SERVERS = {\n",
        "    \"research_storage\": {\n",
        "        \"command\": sys.executable,\n",
        "        \"args\": [str(RESEARCH_MCP_PATH)],\n",
        "        \"description\": \"ì—°êµ¬ ìë£Œ ì €ì¥ ë° ê´€ë¦¬ MCP ì„œë²„\"\n",
        "    }\n",
        "}\n",
        "\n",
        "def get_research_mcp_config():\n",
        "    \"\"\"ì—°êµ¬ ìë£Œ MCP ì„œë²„ ì„¤ì • ë°˜í™˜\"\"\"\n",
        "    return MCP_SERVERS[\"research_storage\"]\n",
        "```\n",
        "\n",
        "### ë‹¨ê³„ 2: agent.py ìˆ˜ì •\n",
        "\n",
        "ê¸°ì¡´ íŒŒì¼ì— ë‹¤ìŒ importì™€ ì„¤ì •ì„ ì¶”ê°€í•˜ì„¸ìš”:\n",
        "\n",
        "```python\n",
        "# 1. Import ì¶”ê°€\n",
        "from google.adk.tools.mcp_tool.mcp_toolset import MCPToolset, StdioServerParameters\n",
        "\n",
        "# 2. MCP ì„œë²„ ì„¤ì • ì¶”ê°€ (tools ì •ì˜ ì „ì—)\n",
        "research_mcp_config = adk_config.get_research_mcp_config()\n",
        "research_mcp_toolset = MCPToolset(\n",
        "    connection_params=StdioServerParameters(\n",
        "        command=research_mcp_config[\"command\"],\n",
        "        args=research_mcp_config[\"args\"]\n",
        "    )\n",
        ")\n",
        "\n",
        "# 3. tools ëª©ë¡ì— ì¶”ê°€\n",
        "tools=[\n",
        "    AgentTool(agent=academic_websearch_agent),\n",
        "    AgentTool(agent=academic_newresearch_agent),\n",
        "    research_mcp_toolset,  # ì´ ì¤„ ì¶”ê°€\n",
        "]\n",
        "```\n",
        "\n",
        "### ë‹¨ê³„ 3: ê²€ì¦ í…ŒìŠ¤íŠ¸\n",
        "\n",
        "```bash\n",
        "# ê°€ìƒí™˜ê²½ í™œì„±í™”\n",
        "source venv/bin/activate\n",
        "\n",
        "# ADK ì—ì´ì „íŠ¸ ì‹¤í–‰\n",
        "adk run academic_research\n",
        "```"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": []
    }
  ],
  "metadata": {
    "language_info": {
      "name": "python"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 2
}
